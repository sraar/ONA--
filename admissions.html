<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Admissions - ONESMOS NESIB ACADEMY</title>
<link rel="stylesheet" href="css/style.css" />
</head>
<body>
<header>
  <nav>
    <ul class="nav-menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="admissions.html" class="active">Admissions</a></li>
      <li><a href="gallery.html">Gallery</a></li>
      <li><a href="academics.html">Academics</a></li>
      <li><a href="student-login.html">Student Login</a></li>
      <li><a href="admin-login.html">Admin Login</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="about.html">About</a></li>
    </ul>
  </nav>
</header>

<main class="container">
  <h1>Admissions Application Form</h1>
  <p>Please fill in the form below to apply for admission.</p>
  <form id="admissionForm" action="https://formspree.io/f/meozrknd" method="POST">
    <label for="fullName">Full Name*</label><br />
    <input type="text" id="fullName" name="fullName" required /><br />

    <label for="email">Email*</label><br />
    <input type="email" id="email" name="_replyto" required /><br />

    <label for="phone">Phone Number*</label><br />
    <input type="tel" id="phone" name="phone" required /><br />

    <label for="level">Select Level*</label><br />
    <select id="level" name="level" required>
      <option value="">--Select--</option>
      <option value="Primary">Primary</option>
      <option value="Secondary">Secondary</option>
    </select><br />

    <label for="subjects">Subjects Interested*</label><br />
    <select id="subjects" name="subjects" multiple required>
      <option value="Maths">Maths</option>
      <option value="Biology">Biology</option>
      <option value="Chemistry">Chemistry</option>
      <option value="Afaan Oromo">Afaan Oromo</option>
      <option value="Physics">Physics</option>
      <option value="ICT">ICT</option>
      <option value="Agriculture">Agriculture</option>
      <option value="English">English</option>
    </select><br />

    <label for="message">Additional Information</label><br />
    <textarea id="message" name="message" rows="4"></textarea><br />

    <button type="submit">Submit Application</button>
  </form>
  <p id="formMessage" style="margin-top: 15px; font-weight: bold; color: green; display:none;"></p>
</main>

<script>
  const form = document.getElementById('admissionForm');
  const formMessage = document.getElementById('formMessage');

  form.addEventListener('submit', function(event) {
    event.preventDefault();

    const data = new FormData(form);
    fetch(form.action, {
      method: 'POST',
      body: data,
      headers: { 'Accept': 'application/json' }
    }).then(response => {
      if (response.ok) {
        formMessage.textContent = "Your application has been submitted successfully!";
        formMessage.style.color = "green";
        formMessage.style.display = "block";
        form.reset();
      } else {
        response.json().then(data => {
          if (data.errors) {
            formMessage.textContent = data.errors.map(error => error.message).join(", ");
          } else {
            formMessage.textContent = "Oops! There was a problem submitting your form.";
          }
          formMessage.style.color = "red";
          formMessage.style.display = "block";
        });
      }
    }).catch(() => {
      formMessage.textContent = "Network error. Please try again later.";
      formMessage.style.color = "red";
      formMessage.style.display = "block";
    });
  });
</script>

</body>
</html>
